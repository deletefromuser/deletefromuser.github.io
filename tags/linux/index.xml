<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>linux on HA</title>
    <link>/blog/tags/linux/</link>
    <description>Recent content in linux on HA</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 10 Nov 2022 20:00:00 +0800</lastBuildDate>
    <atom:link href="/blog/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>linux 命令memo</title>
      <link>/blog/bash/2022111001/</link>
      <pubDate>Thu, 10 Nov 2022 20:00:00 +0800</pubDate>
      <guid>/blog/bash/2022111001/</guid>
      <description>&lt;h3 id=&#34;uuidgen&#34;&gt;&lt;code&gt;uuidgen&lt;/code&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;生成uuid&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;history&#34;&gt;&lt;code&gt;history&lt;/code&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;命令行历史&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;修改history容量，&lt;code&gt;~/.bashrc&lt;/code&gt;最后追加&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;export HISTSIZE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;
export HISTFILESIZE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;df-du&#34;&gt;&lt;code&gt;df du&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看磁盘占用&lt;/span&gt;
df -h

&lt;span style=&#34;color:#75715e&#34;&gt;# 查看文件夹大小&lt;/span&gt;
du -h -d &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;reference&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/307541/how-to-change-history-size-for-ever&#34;&gt;How to change history size for ever?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>linux下设置定时任务</title>
      <link>/blog/bash/2022110602/</link>
      <pubDate>Sun, 06 Nov 2022 19:30:00 +0800</pubDate>
      <guid>/blog/bash/2022110602/</guid>
      <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;crontab -e

A B C D E USERNAME /path/to/command arg1 arg2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Explanation of above cron syntax:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A: Minutes range: 0 – 59&lt;/li&gt;
&lt;li&gt;B: Hours range: 0 – 23&lt;/li&gt;
&lt;li&gt;C: Days range: 0 – 31&lt;/li&gt;
&lt;li&gt;D: Months range: 0 – 12&lt;/li&gt;
&lt;li&gt;E: Days of the week range: 0 – 7. Starting from Monday, 0 or 7 represents Sunday&lt;/li&gt;
&lt;li&gt;USERNAME: replace this with your username&lt;/li&gt;
&lt;li&gt;/path/to/command – The name of the script or command you want to schedule&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;reference&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tecmint.com/create-and-manage-cron-jobs-on-linux/&#34;&gt;How to Create and Manage Cron Jobs on Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>bash函数 &amp; user 代行</title>
      <link>/blog/bash/2022070701/</link>
      <pubDate>Thu, 07 Jul 2022 16:00:00 +0800</pubDate>
      <guid>/blog/bash/2022070701/</guid>
      <description>&lt;h2 id=&#34;bash函数&#34;&gt;bash函数&lt;/h2&gt;
&lt;p&gt;将函数追加写入&lt;code&gt;~/.bashrc&lt;/code&gt;文件即可持久化，否则只在当前shell session内有效，关闭即无效&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;不要忘记加完需要&lt;code&gt;source ~/.bashrc&lt;/code&gt;才会生效&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; functionName &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        &amp;lt;commands&amp;gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;例子：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; f1 &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hello I&amp;#39;m function 1&amp;#34;&lt;/span&gt;
        echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Bye!&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;linux下root用户指定user执行操作&#34;&gt;linux下root用户指定user执行操作&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;sudo -H -u otheruser bash -c &#39;echo &amp;quot;I am $USER, with uid $UID&amp;quot;&#39;&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-H 可选，使用&lt;code&gt;bash -c xxx&lt;/code&gt;可执行多条命令，单个命令可直接跟user参数后面&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;reference&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://phoenixnap.com/kb/bash-function&#34;&gt;Bash Function &amp;amp; How to Use It&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/294736/run-a-shell-script-as-another-user-that-has-no-password&#34;&gt;Run a shell script as another user that has no password&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
  </channel>
</rss>
